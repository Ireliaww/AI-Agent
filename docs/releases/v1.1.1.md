# Release Notes - v1.1.1

**Release Date**: February 6, 2026  
**Type**: Bug Fix Release  
**Status**: ğŸ”§ Critical Fixes

---

## ğŸ› Critical Bug Fixes

### 1. RAG System Embedding API Fixed

**Issue**: RAG system completely broken due to incorrect embedding model name
- âŒ Using `models/text-embedding-004` (not found in Gemini API v1beta)
- âŒ All embedding calls returning 404 NOT_FOUND
- âŒ Paper analysis returning 0 relevant chunks
- âŒ No semantic search capability

**Fix**: Updated to correct Gemini embedding model
- âœ… Changed to `models/gemini-embedding-001` (officially supported)
- âœ… Verified model availability via API
- âœ… RAG now fully functional with semantic search
- âœ… Paper understanding retrieves relevant content

**Files Changed**:
- `rag/vector_store/gemini_embedding.py`
- `rag/vector_store/chroma_store.py`

**Impact**: ğŸ”´ **HIGH** - RAG system is core to paper understanding

---

### 2. File Saving & OS Import Issue

**Issue**: Code generation failing with runtime error
- âŒ `NameError: name 'os' is not defined`
- âŒ Coordinator agent using `os.path.join()` without import
- âŒ Project saving crashed during paper reproduction

**Fix**: Added missing import
- âœ… Added `import os` to `agents/coordinator.py`
- âœ… Projects now save successfully to `generated_projects/`
- âœ… Full path returned and displayed to user

**Files Changed**:
- `agents/coordinator.py`

**Impact**: ğŸ”´ **HIGH** - Prevented any paper reproduction from completing

---

### 3. Enhanced Project Saving

**Issue**: Projects not being saved to disk
- Generated code only printed to console
- No persistent storage
- Users couldn't access generated files

**Fix**: Implemented actual file I/O
- âœ… `save_project()` now returns saved path
- âœ… Coordinator confirms save location
- âœ… Success message shows full path to user
- âœ… All files written to `generated_projects/<project_name>/`

**Files Changed**:
- `agents/enhanced_coding_agent.py`
- `agents/coordinator.py`

**Impact**: ğŸŸ¡ **MEDIUM** - Core functionality now works as expected

---

## ğŸ§ª Testing Performed

### Manual Testing
```bash
# Test case: Reproduce "Attention Is All You Need"
python main.py
You: reproduce https://arxiv.org/abs/1706.03762

# Expected Results:
âœ… Paper downloaded successfully
âœ… RAG indexing with gemini-embedding-001
âœ… Embeddings generated (no 404 errors)
âœ… Paper understanding with retrieved content
âœ… Code generated successfully
âœ… Project saved to: generated_projects/attention_is_all_you_need/
```

### Verified
- âœ… RAG embeddings generate successfully
- âœ… Semantic search returns relevant chunks
- âœ… Project files saved to disk
- âœ… No import errors
- âœ… End-to-end paper reproduction works

---

## ğŸ“Š Before vs After

| Feature | v1.1.0 | v1.1.1 |
|---------|--------|--------|
| RAG Embeddings | âŒ 404 Error | âœ… Working |
| Semantic Search | âŒ 0 results | âœ… Returns chunks |
| Paper Understanding | âš ï¸ Template only | âœ… RAG-enhanced |
| File Saving | âŒ Crash | âœ… Working |
| Project Generation | âŒ Failed | âœ… Complete |

---

## ğŸ”„ Migration Notes

### For Existing Users

If you're upgrading from v1.1.0:

1. **Clear old ChromaDB cache**:
   ```bash
   cd deep-research-agent
   rm -rf chroma_db chroma_db_papers
   ```

2. **Verify GOOGLE_API_KEY is set**:
   ```bash
   echo $GOOGLE_API_KEY
   ```

3. **Test embedding model**:
   ```bash
   python list_models.py  # Should show gemini-embedding-001
   ```

### No Breaking Changes
- âœ… All existing functionality preserved
- âœ… API interfaces unchanged
- âœ… Configuration compatible

---

## ğŸš€ Installation

```bash
# Clone or pull latest
git clone https://github.com/Ireliaww/AI-Agent.git
cd AI-Agent/deep-research-agent

# Install dependencies (unchanged)
pip install -r requirements.txt

# Set API key
export GOOGLE_API_KEY="your-api-key"

# Run
python main.py
```

---

## ğŸ“ Known Issues

### Minor Issues
- Paper title extraction may pick up copyright text (doesn't affect functionality)
- Only 4 chunks indexed for some papers (still functional but less comprehensive)

### Future Improvements (v1.2.0 planned)
- ğŸ¯ Interactive code review
- ğŸ“Š Real-time progress display
- ğŸ“ Save AI thinking process as artifacts
- ğŸ”„ User approval workflow

---

## ğŸ™ Credits

**Bug Reports**: User testing and feedback  
**Fixes**: AI-Agent development team  
**Testing**: Community validation

---

## ğŸ“š Documentation

- [Main README](../README.md)
- [v1.0.0 Release](v1.0.0.md)
- [v1.1.0 Release](v1.1.0.md)

---

## ğŸ”— Links

- **Repository**: https://github.com/Ireliaww/AI-Agent
- **Issues**: https://github.com/Ireliaww/AI-Agent/issues
- **Changelog**: [CHANGELOG.md](../CHANGELOG.md)

---

**Full Changelog**: v1.1.0...v1.1.1

## Technical Details

### Embedding Model Change

**Previous** (v1.1.0):
```python
# gemini_embedding.py
model_name: str = "models/text-embedding-004"  # âŒ Not found
```

**Current** (v1.1.1):
```python
# gemini_embedding.py  
model_name: str = "models/gemini-embedding-001"  # âœ… Official model
```

**Verification**:
```bash
python list_models.py
# Output: âœ… EMBEDDING MODEL: models/gemini-embedding-001
```

---

### Import Fix

**Previous** (v1.1.0):
```python
# coordinator.py (line 11)
from typing import Optional
import asyncio
from rich.console import Console
# Missing: import os
```

**Current** (v1.1.1):
```python
# coordinator.py (line 11)
import os  # âœ… Added
from typing import Optional
import asyncio
from rich.console import Console
```

---

## Release Checklist

- [x] Bug fixes implemented
- [x] Manual testing completed
- [x] Documentation updated
- [x] Version numbers updated
- [x] Release notes written
- [ ] Git tagged
- [ ] GitHub release created
- [ ] Announcement posted

---

**Recommendation**: All users on v1.1.0 should upgrade immediately due to critical RAG system fix.
